BANCO DE DADOS

-> SQL foi desenvolvido pela IBM em 1970

REGRAS DE NOMEAÇÃO

->Nomes de tabelas e colunas devem conter de 1 a 30 caracteres , sendo o primeiro 
caractere alfabético

->Nomes devem conter apenas caracteres de a-z, A-Z,0-9,_,S e #

->Nomes não podem ser iguais às palavras reservadas do oracle

TIPOS DE DADOS 

.Ao se criar a estrutura de tabela, é necessário que o usuário forneça, para
cada coluna , as seguintes informações

->Tipos de dados
->Tamanho
->Restrições

tipo de dado

CHAR(n) -> Campo fixo com tamanho máximo de 2000 bytes

DATE-> Permie data entre 1 de janeiro de 4712 AC até 31 de dezembro de 4712
DC

LONG -> Caractere variavel com tamanho de até 2 GB

VARCHAR2(n) -> Campo do tipo caractere com tamanho váriavel e limitado a 
4000 bytes

NUMBER(n,d) -> Onde n é o número de digitos e d o número de casas decimais

RESTRIÇÕES - CONSTRAINT

.São regras básicas para o preenchimento de uma ou mais colunas da tabela e
são definidas ao final da especificação de cada coluna ou ao final do 
comando

ENTRE AS RESTRIÇÕES ENCONTRAN-SE

-> Chaves primárias;
->Chaves únicas;
->Chaves estrangeiras;
->Identificadores de campos obrigatórios;
->Condições para valores permitidos para determinado campo.

CONSTRAINT

NOT NULL -> Especifica que esta coluna não pode conter valores nulos

UNIQUE -> Especifica uma coluna ou combinação de colunas que terão seus valores
únicos na tabela

PRIMARY KEY -> Identifica a unicidade de cada linha na tabela

FOREIGN KEY REFERENCES -> Estabelece um relacionamento entre a chave estrangeira e a 
chave primária da tabela referenciada

CHECK -> Especifica uma condição que deve ser verdadeira, obedecendo a uma 
regra do negócio

CRIAÇÃO DE TABELA 

CREATE TABLE nome_tabela

(nome_coluna tipo de dado | constraint_tabela),
(nome_coluna tipo de dado | constraint_tabela)

ONDE:

NOME_TABELA -> À è o nome da tabela;

NOME_COLUNA -> À è o nome da coluna;

TIPO DE DADO-> À é tipo de dado da coluna;

CONSTRAINT_TABELA-> À é a "constraint" ou  restrição para a coluna

CONSTRAINT PRIMARY KEY

.Especifica uma ou mais colunas que compõem a chave primária de uma tabela

.Forma mais organizada , após definimos todos os campos da tabela, é definirmos
as restrições 

CREATE TABLE Cliente
(
cd_cliente number (4),
nm_cliente varchar2 (50),
ds_endereço varchar2(70),
cd_municipio number (5),
sg_estado char (2),
nr_cep varchar2 (8),
nr_ddd number (7),
ie_sex0 char (1),

constraint cliente_cd_cliente_pk primary key (cd_cliente)

)


-> PADRONIZANDO A RESTRIÇÃO , SEGUIREMOS O SEGUINTE PADRÃO:

Constraint => nome_tabela_nome_campo_tipodaconstraint

CONSTRAINT PRIMARY KEY COMPOSTA

.Um exemplo de uma PK (primary key) composta por 2 atributos: cd_cliente
e dt_compra:

CREATE TABLE histórico

(cd_cliente number (4),
dt_compra date,
vl_compra number (12,2),
CONSTRAINT histórico_PK PRIMARY KEY (cd_cliente, dt_compra)

COSNTRAINT UNIQUE 

.Define uma ou mais colunas que não podem ter o valor repetido em mais de uma
linha da tabela

.Por exemplo não exite duas pessoas com o mesmo CPF e nem com o mesmo número do PIS
mas esses campos não serão colocados como chave primária

CONSTRAINT FOREIGN KEY

.Referencia um atributo que é chave primária de outra tabela com o propósito
de implementar  relacionamento entre tabelas

.Neste tipo de constraint, relacionamentos que utilizem mais de uma coluna
(chave composta) podem ser criados

.Para definição desta constraint, utilizamos o padrão [nome_tabela/atributo/
tipo_constraint].

REGRAS

->Caso o tipo de dados da coluna na tabela inicial e na tabela referenciada
sejam diferentes, será apresentado um erro;

->Caso a tabela referenciada não possua chave primária (a foreign key será
estabelecida sobre a chave primária da tabela referenciada);

->O uso de chaves estrangeiras garante que não existirão linhas orfãs nas tabelas
-filhas (tabelas que possuem dados que devem estar cadastrados previamente em
outra tabela, denominada tabela mãe).

CONSTRAINT CHECK

.Define um conjunto de valores permitidos ou condição para inserção de valores
em uma determinada coluna.

CONSTRAINT NOT NULL

.Indica que é obrigatória a inserção de algum valor nessa coluna. somente pode
ser declarado junto a coluna e não recebe nome da restrição

ALTERAÇÃO DE TABELA 

.Após a criação da estrutura de uma tabela, pode-se incluir (ADD), excluir
(DROP) ou modificar (MODIDY) colunas ou constraints e desabilitar constraints
dessa tabela. utilizaremos o comando ALTER.

